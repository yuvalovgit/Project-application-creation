<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>User Profile</title>
  <link rel="stylesheet" href="profile.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/locale/he.min.js"></script>
  <script>moment.locale('he');</script>
</head>
<body>
  <div class="profile-container">
    <div class="profile-header">
      <div class="profile-avatar-container" id="profileAvatarContainer">
        <img
          id="profileImage"
          src="default-avatar.png"
          alt="Profile Picture"
          class="avatar"
          title="Click to change profile image"
        />
        <input type="file" id="imageUpload" accept="image/*" style="display:none" />
      </div>
      <div class="profile-info">
        <div class="profile-top-row">
          <h2 id="username">Username</h2>
          <button id="followBtn" class="btn follow-btn">Follow</button>
          <button class="btn edit-profile-btn">Edit profile</button>
          <button class="btn view-archive-btn">View archive</button>
          <button class="btn settings-btn"><i class="fa fa-cog"></i></button>
        </div>
        <div class="profile-stats">
          <span id="postsCount">0 posts</span>
          <span id="followersCount">0 followers</span>
          <span id="followingCount">0 following</span>
        </div>
        <div class="profile-bio" id="bio">User bio goes here...</div>
        <div class="profile-verified">
          <span>@username</span>
          <i class="fa fa-check-circle verified-icon"></i>
        </div>
      </div>
    </div>

    <div class="profile-stories">
      <div class="story"><img src="story1.jpg" alt="Story 1" /><span>Brazil</span></div>
      <div class="story"><img src="story2.jpg" alt="Story 2" /><span>Panama</span></div>
      <div class="story"><img src="story3.jpg" alt="Story 3" /><span>Ecuador</span></div>
    </div>

    <div id="postsGrid" class="posts-grid"></div>
  </div>

  <!-- Modal לשינוי תמונת פרופיל -->
 <div id="profileModal" class="modal confirm-modal hidden">
  <div class="modal-content">
    <h3>Change Profile Photo</h3>
    <button id="uploadPhotoBtn" class="modal-btn upload-btn">Upload Photo</button>
    <button id="removePhotoBtn" class="modal-btn remove-btn">Remove Current Photo</button>
    <button id="cancelBtn" class="modal-btn cancel-btn">Cancel</button>
  </div>
</div>

  <!-- Modal להצגת פוסט -->
  <div id="postModal" class="modal hidden">
    <div class="modal-content" style="display:flex; flex-direction:row; gap:20px;">
      <div class="modal-image-container">
        <div id="postModalImage"></div>
      </div>
      <div class="modal-content-container" style="flex:1;">
        <div class="post-header" style="display:flex; align-items:center; gap:10px; margin-bottom:15px;">
          <img id="postAuthorAvatar" src="default-avatar.png" alt="Author Avatar" style="width:35px; height:35px; border-radius:50%; object-fit:cover;">
          <span id="postAuthorUsername" style="font-weight:700; font-size:1rem;">username</span>
          <button class="modal-options-btn" style="background:none; border:none; color:#fff; font-size:24px; cursor:pointer; margin-left:auto;">⋯</button>
        </div>

        <div id="postComments" style="flex-grow:1; overflow-y:auto; border-top:1px solid #444; padding-top:10px; color:#eee;">
          <!-- תגובות יכנסו כאן -->
        </div>

        <div class="modal-footer" style="border-top:1px solid #444; padding-top:10px; margin-top:10px;">
          <button id="likeBtn" style="background:none; border:none; font-size:24px; cursor:pointer;">♡</button>
          <span id="likesCount" style="margin-left:8px;">0 likes</span>

          <form id="commentForm" style="display:flex; gap:10px; margin-top:10px;">
            <input id="commentInput" type="text" placeholder="Add a comment..." style="flex-grow:1; padding:8px; border-radius:6px; border:none; font-size:14px;" required />
            <button type="submit" style="padding:8px 15px; border-radius:6px; border:none; background:#0095f6; color:#fff; font-weight:700; cursor:pointer;">Post</button>
          </form>
        </div>
      </div>
    </div>
    <button id="closePostModalBtn" class="close-btn" style="position:absolute; top:10px; right:15px; font-size:30px; background:none; border:none; color:#fff;">&times;</button>
  </div>

  <!-- Modal למחיקת פוסט -->
  <div id="deleteModal" class="modal confirm-modal hidden">
    <div class="modal-content">
      <h3>Are you sure you want to remove this post?</h3>
      <button id="confirmDeleteBtn" class="remove-btn">Remove</button>
      <button id="cancelDeleteBtn" class="cancel-btn">Cancel</button>
    </div>
  </div>

  <div class="sidebar">
  <img src="images/login/instaLogo.png" alt="Instagram Logo" style="width:140px; margin-bottom:40px;" />
    <ul>
      <li><a href="feed.html"><i class="fas fa-house"></i> <span class="link-text">Home</span></a></li>
      <li><a href="#"><i class="fas fa-magnifying-glass"></i> <span class="link-text">Search</span></a></li>
      <li><a href="#"><i class="fas fa-compass"></i> <span class="link-text">Explore</span></a></li>
      <li><a href="creation-group.html"><i class="fas fa-users"></i> <span class="link-text">Groups</span></a></li>
      <li><a href="#"><i class="fas fa-envelope"></i> <span class="link-text">Messages</span></a></li>
      <li><a href="#"><i class="far fa-heart"></i> <span class="link-text">Notifications</span></a></li>
      <li>
        <button id="uploadPostSidebarBtn" class="sidebar-link">
          <i class="far fa-square-plus"></i> <span class="link-text">Create</span>
        </button>
        <input type="file" id="postImageUpload" accept="image/*,video/*" style="display:none" />
      </li>
      <li><a href="profile.html"><i class="far fa-user"></i> <span class="link-text">Profile</span></a></li>
      <li><a href="#"><i class="fas fa-bars"></i> <span class="link-text">More</span></a></li>
    </ul>
  </div>

  <nav class="bottom-nav justify-content-evenly align-items-center bg-black text-white py-2 position-fixed bottom-0 w-100 border-top border-dark" style="z-index: 999;">
    <a href="feed.html" class="text-white"><i class="fas fa-home fa-lg"></i></a>
    <a href="#"><i class="fas fa-compass fa-lg"></i></a>
    <a href="#"><i class="fas fa-clapperboard fa-lg"></i></a>
    <a href="#"><i class="far fa-square-plus fa-lg"></i></a>
    <a href="#"><i class="fas fa-envelope fa-lg"></i></a>
    <a href="profile.html" class="text-white"><i class="far fa-user fa-lg"></i></a>
  </nav>

  <script src="profile.js"></script>
</body>
</html>
