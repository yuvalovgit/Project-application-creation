<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Groups</title>
  <link rel="stylesheet" href="create-group.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>
<body>

  <!-- Sidebar (exactly like feed) -->
  <div class="sidebar">
    <img src="images/login/instaLogo.png" alt="Instagram Logo" style="width:140px; margin-bottom:40px;" />
    <ul>
      <li><a href="feed.html"><i class="fas fa-house"></i> <span class="link-text">Home</span></a></li>
      <li>
        <a href="#" onclick="openUserSearchModal()">
          <i class="fas fa-magnifying-glass"></i> <span class="link-text">Search</span>
        </a>
      </li>
      <li><a href="creation-group.html"><i class="fas fa-users"></i> <span class="link-text">Groups</span></a></li>
      <li><a href="profile.html"><i class="far fa-user"></i> <span class="link-text">Profile</span></a></li>
    </ul>
  </div>

  <!-- Main Content -->
  <div class="main-content">

    <!-- Page header -->
    <header class="page-header">
      <div class="ph-left">
        <div class="icon-badge"><i class="fas fa-users"></i></div>
        <div class="titles">
          <h1>Browse Groups</h1>
          <p id="groupsMeta">Find communities by topic</p>
        </div>
      </div>

      <div class="ph-right">
        <!-- 🆕 כפתור My Groups -->
        <button id="openMyGroupsBtn" class="mygroups-btn">
          <i class="fas fa-layer-group"></i> My Groups
        </button>

        <!-- כפתור יצירת קבוצה -->
        <button id="openModalBtn" class="create-btn header-create">
          <i class="fas fa-plus"></i> Create Group
        </button>
      </div>
    </header>
    <div class="header-divider"></div>

    <!-- Rows by topic load here -->
    <div id="topicsContainer" class="topics-container"></div>

    <!-- Modal: Create Group -->
    <div id="groupModal" class="modal">
      <div class="modal-content">
        <span id="closeModalBtn" class="close">&times;</span>
        <h2>Create a New Group</h2>
        <form id="createGroupForm">
          <input type="text" id="group-name" placeholder="Group Name" required />
          <textarea id="group-description" rows="3" placeholder="Group Description" required></textarea>
          <select id="group-topic" required>
            <option value="">Select Topic</option>
            <option value="music">Music</option>
            <option value="sports">Sports</option>
            <option value="technology">Technology</option>
            <option value="travel">Travel</option>
            <option value="general">General</option>
          </select>
          <input type="file" id="group-image" accept="image/*" />
          <button type="submit">Create Group</button>
        </form>
      </div>
    </div>

    <!-- 🆕 Modal: My Groups -->
    <div id="myGroupsModal" class="modal">
      <div class="modal-content">
        <span id="closeMyGroupsBtn" class="close">&times;</span>
        <h2>My Groups</h2>

        <!-- קבוצות שאני אדמין בהן -->
        <h3 style="margin-top:15px; color:#0af;">Groups I Created</h3>
        <div id="adminGroupsList" class="groups-sublist">
          <!-- כאן ייטענו הקבוצות שאני האדמין שלהן -->
        </div>

        <!-- קבוצות שאני חבר בהן -->
        <h3 style="margin-top:20px; color:#0af;">Groups I Joined</h3>
        <div id="joinedGroupsList" class="groups-sublist">
          <!-- כאן ייטענו הקבוצות שאני רק חבר בהן -->
        </div>
      </div>
    </div>

    <!-- ================= Search Components ================= -->
    <!-- Overlay -->
    <div id="modalOverlay" onclick="closeUserSearchModal()" style="display:none"></div>

    <!-- Search Drawer -->
    <div id="searchDrawer" class="search-drawer" style="display:none;">
      <div class="search-header">
        <h3>Search</h3>
        <button class="search-close" onclick="closeUserSearchModal()" aria-label="Close">✕</button>
      </div>

      <div class="search-box">
        <i class="fa-solid fa-magnifying-glass"></i>
        <input id="searchInput" type="text" placeholder="Search users or groups…" autocomplete="off" />
        <button id="searchClearBtn" class="clear-btn" aria-label="Clear" title="Clear">×</button>
      </div>

      <div class="search-tabs">
        <button class="tab-btn active" data-type="users" id="tabUsers">Users</button>
        <button class="tab-btn" data-type="groups" id="tabGroups">Groups</button>
      </div>

      <div id="searchResultsList" class="results"></div>
    </div>
    <!-- ================= End Search Components ================= -->

  </div> <!-- /main-content -->

  <!-- JS -->
  <script src="create-group.js"></script>
</body>
</html>
