<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Group Profile</title>
  <link rel="stylesheet" href="create-post.css" />
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>
<body>

  <!-- Sidebar (exactly like feed) -->
  <div class="sidebar">
    <img src="images/login/instaLogo.png" alt="Instagram Logo" style="width:140px; margin-bottom:40px;" />
    <ul>
      <li><a href="feed.html"><i class="fas fa-house"></i> <span class="link-text">Home</span></a></li>
      <li>
        <a href="#" onclick="openUserSearchModal()">
          <i class="fas fa-magnifying-glass"></i> <span class="link-text">Search</span>
        </a>
      </li>
      <li><a href="creation-group.html"><i class="fas fa-users"></i> <span class="link-text">Groups</span></a></li>
      <li><a href="profile.html"><i class="far fa-user"></i> <span class="link-text">Profile</span></a></li>
    </ul>
  </div>

  <!-- Main Content Wrapper -->
  <div class="main-content">

    <!-- Group Profile Section -->
    <div class="group-container">

      <!-- Cover Image -->
      <div class="group-cover">
        <img id="groupCoverImage" src="" alt="Group Cover" />
      </div>

      <!-- Group Header -->
      <div class="group-header">
        <div class="group-avatar-container">
          <img id="groupImage" src="" alt="Group Image" />
        </div>

        <div class="group-info">
          <div class="group-top-row">
            <h2 id="groupName">Group Name</h2>
            <button id="joinLeaveBtn" class="join-btn">Join Group</button>
            <button id="editGroupBtn" class="edit-btn" style="display: none;">
              <i class="fas fa-pen"></i> Edit Group
            </button>
          </div>

          <div class="group-admin" id="adminInfo"></div>
          <div class="group-category" id="groupCategory">#music</div>
          <div class="group-description" id="groupDescription">This is the group description...</div>
          <div class="group-stats">
            <span id="groupMembersCount">0</span> members Â·
            <span id="groupPostsCount">0</span> posts
          </div>
        </div>
      </div>
    </div>

    <!-- Create Post Box -->
    <div class="create-post-box">
      <label for="postMedia" class="media-preview">
        <span>Click to upload image/video</span>
        <img id="previewImage" src="" style="display:none;" />
        <video id="previewVideo" controls style="display:none;"></video>
      </label>
      <input type="file" id="postMedia" accept="image/*,video/*" style="display:none;" />
      <textarea id="postContent" placeholder="Write a caption..."></textarea>
      <button id="submitPostBtn">Post</button>
    </div>

    <!-- Group Feed -->
    <h3 class="section-title">Group Feed</h3>
    <div id="groupPostsFeed" class="post-feed">
      <!-- Posts will load here -->
    </div>

  </div> <!-- End of main-content -->

  <!-- ðŸ“Œ Right Panel â€“ Group Members -->
  <aside class="right-panel">
    <h4 style="margin-bottom:15px;">Members</h4>
    <div id="groupMembersList" class="members-list"></div>
  </aside>

  <!-- Hidden File Inputs -->
  <input type="file" id="profileFileInput" accept="image/*" style="display:none">
  <input type="file" id="coverFileInput" accept="image/*" style="display:none">

  <!-- Change Image Modal -->
  <div id="changeImageModal" class="modal-overlay hidden">
    <div class="modal">
      <h3 id="modalTitle">Change Photo</h3>
      <button id="uploadPhotoBtn">Upload Photo</button>
      <button id="removePhotoBtn">Remove Current Photo</button>
      <button id="cancelModalBtn">Cancel</button>
    </div>
  </div>

  <!-- Edit Group Modal -->
  <div id="editGroupModal" class="modal-overlay hidden">
    <div class="modal">
      <h3>Edit Group</h3>
      <input type="text" id="editGroupName" placeholder="Group Name" />
      <textarea id="editGroupDescription" placeholder="Group Description"></textarea>
      <div id="editGroupMembersList"
           style="margin-top: 10px; text-align: left; max-height: 120px; overflow-y: auto;"></div>
      <button id="saveGroupChangesBtn">Save Changes</button>
      <button onclick="closeEditModal()">Cancel</button>
      <button id="deleteGroupBtn" class="delete-btn" style="display:none;">
        <i class="fas fa-trash"></i> Delete Group
      </button>
    </div>
  </div>
  

  <!-- Overlay -->
  <div id="modalOverlay" onclick="closeUserSearchModal()" style="display:none"></div>

  <!-- Search Drawer -->
  <div id="searchDrawer" class="search-drawer" style="display:none;">
    <div class="search-header">
      <h3>Search</h3>
      <button class="search-close" onclick="closeUserSearchModal()" aria-label="Close">âœ•</button>
    </div>

    <div class="search-box">
      <i class="fa-solid fa-magnifying-glass"></i>
      <input id="searchInput" type="text" placeholder="Search users or groupsâ€¦" autocomplete="off" />
      <button id="searchClearBtn" class="clear-btn" aria-label="Clear" title="Clear">Ã—</button>
    </div>

    <div class="search-tabs">
      <button class="tab-btn active" data-type="users" id="tabUsers">Users</button>
      <button class="tab-btn" data-type="groups" id="tabGroups">Groups</button>
    </div>

    <div id="searchResultsList" class="results"></div>
  </div>

  <!-- JS -->
  <script src="create-post.js"></script>
</body>
</html>
